{% extends "base.html" %}
{% block title %}Home{% endblock %}

{% block header %}
<style>
    h1 {
        margin: 20px;
    }
    #basic-information {
        float: left;
        margin: 20px 0px 0px 50px;
        width: 700px;
    }
    .list-group {
        float: left;
        margin-left: 20px;
        margin-top: 20px;
        width: 250px;
    }
    #save-button {
        float: right;
        display: none;
    }
    #password-alert {
        display: none;
    }
    #error-message {
        display: none;
    }
    #reset-password {
        display: none;
    }
    #username-alert {
        display: none;
    }
</style>
{% endblock %}

{% block content %}
{% from "includes/_formhelper.html" import render_field %}

<body>
    <br>
    <h1>Profile</h1>
    <hr>

<div class="list-group">
    <a href="/Profile" type="button" class="list-group-item list-group-item-action active">Basic Information</a>
    <a href="#" type="button" class="list-group-item list-group-item-action">Orders</a>
    <a href="#" type="button" class="list-group-item list-group-item-action">Addresses</a>
    <a href="/PaymentInfo" type="button" class="list-group-item list-group-item-action">Payment Options</a>
</div>

<div id="basic-information">
    <form id="details-form" method="post">
      <div class="form-group">
        <label for="username">Username</label>
        <input type="text" class="form-control" id="username" value="{{ user.get_username() }}" name="username" disabled>
      </div>   
      <div class="form-group">
        <label for="email">Email Address</label>
        <input type="text" class="form-control" id="email" value="{{ user.get_email() }}" name="email" disabled>
      </div>
      <div class="form-group">
        <label for="email">Security Question</label>
        <input type="text" class="form-control" id="email" value="{{ user.get_question() }}" name="email" disabled>
      </div>
      <div class="form-group">
        <label for="email">Answer</label>
        <input type="text" class="form-control" id="email" value="{{ user.get_answer() }}" name="email" disabled>
      </div>
    </form>
    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter">
        Change Password
    </button>
    <br>
</div>

<!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">Change Password</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <form method="POST" action="">
                <div class="form-group">
                    {{ render_field(form.oldpassword, class="form-control") }}
                </div>
                <div class="form-group">
                    {{ render_field(form.newpassword, class="form-control") }}
                </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <input id="submitButton" style="text-align: center;" type="submit" value="Submit" class="btn btn-primary"/>
        </div>
      </form>
      </div>
    </div>
  </div>
{% endblock %}

